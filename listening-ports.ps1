# Given a list of port numbers, we want to use this list to see if the local port is listening
#
# Get a list of all the ports on the system that are listening and save to varibale 
$system_ports = Get-NetTCPConnection -State Listen

# Read a list of ports from the file, store in variable
$text_port = Get-Content -Path ports.txt

# Iterate through all the ports in the file to see if the ports are listening.Each individual port ischeck if this port occurs in the listening local ports.
# Use an if statement with the -in operator to check if the port exists the LocalPort property of any object.
foreach($port in $text_port){

    if($port -in $system_ports.LocalPort){
        echo $port
    }

}